<script setup>
import MainLayout from "@/Layouts/MainLayout.vue";
import ProfileBanner from "@/Components/Main/Account/ProfileBanner.vue";
import { ref } from "vue";
import Wallet from "@/Pages/Account/Tabs/Wallet.vue";
import { Link } from '@inertiajs/vue3';
import Verification from "@/Pages/Account/Tabs/Verification.vue";
import Setting from "@/Pages/Account/Tabs/Setting.vue";
import Bonus from "@/Pages/Account/Tabs/Bonus.vue";
import TakeBonus from "@/Components/Main/Header/TakeBonus.vue";
import Transactions from "./Tabs/Transactions.vue";

const props = defineProps({
    activeTab: {
        type: String,
        default: "wallet"
    },
    wallets: {
        type: Array,
        default: [],
        required: false,
    },
    fiat_merchants: {
        type: Array,
        default: [],
        required: false,
    },
    transactions_deposit: {
        type: Object,
        default: [],
        required: false,
    },
    transactions_withdraw: {
        type: Object,
        default: [],
        required: false,
    },
    subtab: {
        type: String,
        default: "deposit",
        required: false,
    },
});

const activeTab = ref(props.activeTab);


</script>
<template>
    <MainLayout>
        <div class="container flex flex-col gap-6 mx-auto">
            <ProfileBanner v-if="activeTab !== 'bonus'" />
            <div v-else class="bonus_banner bg-secondary-sidebar/5 max-md:min-h-[525px] container flex-col mx-auto p-6 rounded-2xl">
                <div class="flex flex-col gap-2.5 max-md:items-center max-md:justify-center max-md:text-center max-w-[290px] w-full">

                    <div class="flex flex-col gap-2">
                        <h1 class="text-2xl md:text-3xl  max-w-[270px] font-bold text-white">
                            Get Your Welcome
                            Bonus For Free!
                        </h1>
                        <p class="text-secondary-light/50">
                            Get a generous welcome bonus from our partners and us
                        </p>
                    </div>
                    <TakeBonus background="!bg-primary/10 !border-none h-[60px] px-2" button="true" />
                </div>
            </div>
            <div class="flex justify-between items-center">
                <div class="md:flex grid grid-cols-2 gap-2 items-center">
                    <Link href="/account/wallet" class="btn btn-sidebar" :class="{ 'active': activeTab === 'wallet' }">

                    <svg width="20" height="20" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <path d="M12.3737 3.29134V6.45801H11.1237V3.29134C11.1237 3.06634 10.9237 2.95801 10.7904 2.95801C10.7487 2.95801 10.707 2.96634 10.6654 2.98301L4.05703 5.47467C3.61536 5.64134 3.33203 6.05801 3.33203 6.53301V7.09134C2.5737 7.65801 2.08203 8.56634 2.08203 9.59134V6.53301C2.08203 5.54134 2.69036 4.65801 3.61536 4.30801L10.232 1.80801C10.4154 1.74134 10.607 1.70801 10.7904 1.70801C11.6237 1.70801 12.3737 2.38301 12.3737 3.29134Z" />
                        <path d="M17.9151 12.0832V12.9165C17.9151 13.1415 17.7401 13.3248 17.5068 13.3332H16.2901C15.8484 13.3332 15.4484 13.0082 15.4151 12.5748C15.3901 12.3165 15.4901 12.0748 15.6568 11.9082C15.8068 11.7498 16.0151 11.6665 16.2401 11.6665H17.4984C17.7401 11.6748 17.9151 11.8582 17.9151 12.0832Z" />
                        <path d="M16.232 10.7915H17.082C17.5404 10.7915 17.9154 10.4165 17.9154 9.95817V9.5915C17.9154 7.8665 16.507 6.45817 14.782 6.45817H5.21536C4.50703 6.45817 3.85703 6.69134 3.33203 7.09134C2.5737 7.65801 2.08203 8.56634 2.08203 9.59134V15.1998C2.08203 16.9248 3.49036 18.3332 5.21536 18.3332H14.782C16.507 18.3332 17.9154 16.9248 17.9154 15.1998V15.0415C17.9154 14.5832 17.5404 14.2082 17.082 14.2082H16.357C15.557 14.2082 14.7904 13.7165 14.582 12.9415C14.407 12.3082 14.6154 11.6998 15.032 11.2915C15.3404 10.9748 15.7654 10.7915 16.232 10.7915ZM11.6654 10.6248H5.83203C5.49036 10.6248 5.20703 10.3415 5.20703 9.99984C5.20703 9.65817 5.49036 9.37484 5.83203 9.37484H11.6654C12.007 9.37484 12.2904 9.65817 12.2904 9.99984C12.2904 10.3415 12.007 10.6248 11.6654 10.6248Z" />
                    </svg>
                    WALLET
                    </Link>
                    <Link href="/account/bonus" class="btn btn-sidebar" :class="{ 'active': activeTab === 'bonus' }">
                    <svg width="20" height="20" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <path d="M16.6654 10.0002V15.0002C16.6654 16.8419 15.1737 18.3336 13.332 18.3336H6.66536C4.8237 18.3336 3.33203 16.8419 3.33203 15.0002V10.0002C3.33203 9.54191 3.70703 9.16691 4.16536 9.16691H5.80703C6.26536 9.16691 6.64036 9.54191 6.64036 10.0002V12.6169C6.64036 13.2336 6.98203 13.8002 7.5237 14.0919C7.76536 14.2252 8.03203 14.2919 8.30703 14.2919C8.6237 14.2919 8.94036 14.2002 9.21536 14.0169L10.007 13.5002L10.7404 13.9919C11.2487 14.3336 11.8987 14.3752 12.4404 14.0836C12.9904 13.7919 13.332 13.2336 13.332 12.6086V10.0002C13.332 9.54191 13.707 9.16691 14.1654 9.16691H15.832C16.2904 9.16691 16.6654 9.54191 16.6654 10.0002Z" />
                        <path d="M17.9154 5.83358V6.66691C17.9154 7.58358 17.4737 8.33358 16.2487 8.33358H3.7487C2.4737 8.33358 2.08203 7.58358 2.08203 6.66691V5.83358C2.08203 4.91691 2.4737 4.16691 3.7487 4.16691H16.2487C17.4737 4.16691 17.9154 4.91691 17.9154 5.83358Z" />
                        <path d="M9.69852 4.16686H5.09852C4.81518 3.85853 4.82352 3.38353 5.12352 3.08353L6.30685 1.9002C6.61518 1.59186 7.12352 1.59186 7.43185 1.9002L9.69852 4.16686Z" />
                        <path d="M14.89 4.16686H10.29L12.5567 1.9002C12.865 1.59186 13.3734 1.59186 13.6817 1.9002L14.865 3.08353C15.165 3.38353 15.1734 3.85853 14.89 4.16686Z" />
                        <path d="M11.6407 9.16691C12.0991 9.16691 12.4741 9.54191 12.4741 10.0002V12.6086C12.4741 13.2752 11.7324 13.6752 11.1824 13.3002L10.4324 12.8002C10.1574 12.6169 9.79906 12.6169 9.51572 12.8002L8.73239 13.3169C8.18239 13.6836 7.44906 13.2836 7.44906 12.6252V10.0002C7.44906 9.54191 7.82406 9.16691 8.28239 9.16691H11.6407Z" />
                    </svg>
                    BONUSES
                    </Link>
                    <Link href="/account/verification" class="btn btn-sidebar" :class="{ 'active': activeTab === 'verification' }">
                    <svg width="20" height="20" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <path d="M15.4187 3.42493L11.2604 1.8666C10.5688 1.60827 9.43542 1.60827 8.74375 1.8666L4.58542 3.42493C3.62708 3.78327 2.84375 4.9166 2.84375 5.93327V12.1249C2.84375 13.1083 3.49375 14.3999 4.28542 14.9916L7.86875 17.6666C9.04375 18.5499 10.9771 18.5499 12.1521 17.6666L15.7354 14.9916C16.5271 14.3999 17.1771 13.1083 17.1771 12.1249V5.93327C17.1604 4.9166 16.3771 3.78327 15.4187 3.42493ZM9.94375 5.85827C10.9271 5.85827 11.7271 6.65827 11.7271 7.6416C11.7271 8.60827 10.9688 9.38327 10.0104 9.4166H9.99375H9.97708C9.96042 9.4166 9.94375 9.4166 9.92708 9.4166C8.92708 9.38327 8.17708 8.60827 8.17708 7.6416C8.16875 6.65827 8.96875 5.85827 9.94375 5.85827ZM11.8271 13.6333C11.3187 13.9666 10.6604 14.1416 10.0021 14.1416C9.34375 14.1416 8.67708 13.9749 8.17708 13.6333C7.70208 13.3166 7.44375 12.8833 7.43542 12.4083C7.43542 11.9416 7.70208 11.4916 8.17708 11.1749C9.18542 10.5083 10.8271 10.5083 11.8354 11.1749C12.3104 11.4916 12.5771 11.9249 12.5771 12.3999C12.5688 12.8666 12.3021 13.3166 11.8271 13.6333Z" />
                    </svg>

                    VERIFICATION
                    </Link>
                    <Link href="/account/settings" class="btn btn-sidebar" :class="{ 'active': activeTab === 'settings' }">
                    <svg width="20" height="20" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <path d="M16.7513 7.68287C15.243 7.68287 14.6263 6.61621 15.3763 5.30787C15.8096 4.54954 15.5513 3.58287 14.793 3.14954L13.3513 2.32454C12.693 1.93287 11.843 2.16621 11.4513 2.82454L11.3596 2.98287C10.6096 4.29121 9.3763 4.29121 8.61797 2.98287L8.5263 2.82454C8.1513 2.16621 7.3013 1.93287 6.64297 2.32454L5.2013 3.14954C4.44297 3.58287 4.18464 4.55787 4.61797 5.31621C5.3763 6.61621 4.75964 7.68287 3.2513 7.68287C2.38464 7.68287 1.66797 8.39121 1.66797 9.26621V10.7329C1.66797 11.5995 2.3763 12.3162 3.2513 12.3162C4.75964 12.3162 5.3763 13.3829 4.61797 14.6912C4.18464 15.4495 4.44297 16.4162 5.2013 16.8495L6.64297 17.6745C7.3013 18.0662 8.1513 17.8329 8.54297 17.1745L8.63463 17.0162C9.38463 15.7079 10.618 15.7079 11.3763 17.0162L11.468 17.1745C11.8596 17.8329 12.7096 18.0662 13.368 17.6745L14.8096 16.8495C15.568 16.4162 15.8263 15.4412 15.393 14.6912C14.6346 13.3829 15.2513 12.3162 16.7596 12.3162C17.6263 12.3162 18.343 11.6079 18.343 10.7329V9.26621C18.3346 8.39954 17.6263 7.68287 16.7513 7.68287ZM10.0013 12.7079C8.50964 12.7079 7.29297 11.4912 7.29297 9.99954C7.29297 8.50787 8.50964 7.29121 10.0013 7.29121C11.493 7.29121 12.7096 8.50787 12.7096 9.99954C12.7096 11.4912 11.493 12.7079 10.0013 12.7079Z" />
                    </svg>

                    SETTINGS
                    </Link>
                    <Link href="/account/transactions" class="btn btn-sidebar" :class="{ 'active': activeTab === 'transactions' }">
                    <svg width="20" height="20" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <path d="M13.1513 1.66699H6.8513C3.7013 1.66699 2.91797 2.50866 2.91797 5.86699V15.2503C2.91797 17.467 4.13464 17.992 5.60964 16.4087L5.61797 16.4003C6.3013 15.6753 7.34297 15.7337 7.93464 16.5253L8.7763 17.6503C9.4513 18.542 10.543 18.542 11.218 17.6503L12.0596 16.5253C12.6596 15.7253 13.7013 15.667 14.3846 16.4003C15.868 17.9837 17.0763 17.4587 17.0763 15.242V5.86699C17.0846 2.50866 16.3013 1.66699 13.1513 1.66699ZM12.5013 9.79199H7.5013C7.15964 9.79199 6.8763 9.50866 6.8763 9.16699C6.8763 8.82533 7.15964 8.54199 7.5013 8.54199H12.5013C12.843 8.54199 13.1263 8.82533 13.1263 9.16699C13.1263 9.50866 12.843 9.79199 12.5013 9.79199ZM13.3346 6.45866H6.66797C6.3263 6.45866 6.04297 6.17533 6.04297 5.83366C6.04297 5.49199 6.3263 5.20866 6.66797 5.20866H13.3346C13.6763 5.20866 13.9596 5.49199 13.9596 5.83366C13.9596 6.17533 13.6763 6.45866 13.3346 6.45866Z" />
                    </svg>

                    TRANSACTIONS
                    </Link>
                    <a href="/logout" class="btn btn-danger md:hidden bg-red-primary/10 text-red-primary before:hidden px-3">
                        <svg width="16" height="17" viewBox="0 0 16 17" fill="none" xmlns="http://www.w3.org/2000/svg">
                            <path d="M11.2 1.83398H9.46667C7.33333 1.83398 6 3.16732 6 5.30065V8.00065H10.1667C10.44 8.00065 10.6667 8.22732 10.6667 8.50065C10.6667 8.77398 10.44 9.00065 10.1667 9.00065H6V11.7007C6 13.834 7.33333 15.1673 9.46667 15.1673H11.1933C13.3267 15.1673 14.66 13.834 14.66 11.7007V5.30065C14.6667 3.16732 13.3333 1.83398 11.2 1.83398Z" fill="#FF5353" />
                            <path d="M3.04094 7.99924L4.42094 6.61925C4.52094 6.51925 4.5676 6.39258 4.5676 6.26591C4.5676 6.13924 4.52094 6.00591 4.42094 5.91258C4.2276 5.71924 3.9076 5.71924 3.71427 5.91258L1.48094 8.14591C1.2876 8.33925 1.2876 8.65925 1.48094 8.85258L3.71427 11.0859C3.9076 11.2792 4.2276 11.2792 4.42094 11.0859C4.61427 10.8926 4.61427 10.5726 4.42094 10.3792L3.04094 8.99925H6.00094V7.99924H3.04094Z" fill="#FF5353" />
                        </svg>

                        LOG OUT
                    </a>
                </div>
                <a href="/logout" class="btn btn-danger max-md:hidden bg-red-primary/10 text-red-primary before:hidden px-3">
                    <svg width="16" height="17" viewBox="0 0 16 17" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <path d="M11.2 1.83398H9.46667C7.33333 1.83398 6 3.16732 6 5.30065V8.00065H10.1667C10.44 8.00065 10.6667 8.22732 10.6667 8.50065C10.6667 8.77398 10.44 9.00065 10.1667 9.00065H6V11.7007C6 13.834 7.33333 15.1673 9.46667 15.1673H11.1933C13.3267 15.1673 14.66 13.834 14.66 11.7007V5.30065C14.6667 3.16732 13.3333 1.83398 11.2 1.83398Z" fill="#FF5353" />
                        <path d="M3.04094 7.99924L4.42094 6.61925C4.52094 6.51925 4.5676 6.39258 4.5676 6.26591C4.5676 6.13924 4.52094 6.00591 4.42094 5.91258C4.2276 5.71924 3.9076 5.71924 3.71427 5.91258L1.48094 8.14591C1.2876 8.33925 1.2876 8.65925 1.48094 8.85258L3.71427 11.0859C3.9076 11.2792 4.2276 11.2792 4.42094 11.0859C4.61427 10.8926 4.61427 10.5726 4.42094 10.3792L3.04094 8.99925H6.00094V7.99924H3.04094Z" fill="#FF5353" />
                    </svg>

                    LOG OUT
                </a>
            </div>
            <Wallet v-if="activeTab === 'wallet'" :wallets="wallets" :fiat_merchants="fiat_merchants" :subtab="subtab" />
            <Verification v-if="activeTab === 'verification'" />
            <Setting v-if="activeTab === 'settings'" />
            <Bonus v-if="activeTab === 'bonus'" />
            <Transactions :transactions_deposit="transactions_deposit" :transactions_withdraw="transactions_withdraw" v-if="activeTab === 'transactions'" />
        </div>
    </MainLayout>
</template>

<style>
.bonus_banner {
    background-image: url('/assets/images/account/bg/bonus_banner.png');
    background-repeat: no-repeat;
    background-position: top;
    background-size: cover;
}

@media (max-width: 768px) {
    .bonus_banner {
        background-image: url('/assets/images/account/bg/bonus_banner_mobile.png');
    }
}
</style>
